# Genes from Space Tool


## FAQ:

<details closed>
<summary> <b>English</b> </summary>
<br>
  
### About genetic diversity (e.g. for non geneticists)


<details closed>
<summary>What is genetic diversity?</summary>
<br>
  
Genetic diversity is variation at the DNA level, the DNA sequence, which, together with the environment where an organism lives, determines its individual phenotype (appearance, traits, etc.) and its survival. There is variation within populations and among populations. More genetic diversity can increase a population or species’ chances of survival in a changing environment.
</details>

<details closed>
<summary>How do you study genetic diversity?</summary>
<br>
  
For more than 40 years scientists have used molecular genetic techniques that can assess variation at the DNA level. There are many techniques that study either the whole genome (all DNA of an individual) or selected parts of it. One needs to collect tissue from many individuals over the study region to get good knowledge of where genetically distinct populations are and how much variation occurs within populations as well as between populations. DNA is extracted from the tissue and then analyzed to quantify genetic variation. These molecular lab procedures are not available for all species because they can still be expensive and require accessing the organisms’ tissues, for many organisms in a species.
</details>

<details closed>
<summary>How can you study genetic diversity from space?</summary>
<br>
  
We cannot assess DNA variation from space, but it is possible to measure some of the processes that affect the maintenance of genetic diversity and, in some cases, observe parts of the phenotype. Very small populations will lose genetic diversity faster. Also, loss of populations results in a loss of genetic diversity. From space, we can estimate the size of particular habitats, and with knowledge on the density of individuals of species in such habitats, you can roughly estimate the size of populations. Also, we can measure the loss of populations as lost habitat (e.g., conversion of habitat to non-habitat). Finally, for some organisms like large dominant trees, we can directly observe some of their traits and how variable those are. (Trait or phenotype information is not yet used in the “Genes from Space” tool, but we aim to use it in the future.) For more information, please see our preprint [here](https://ecoevorxiv.org/repository/view/7274/).
</details>

<details closed>
<summary>What is the point of indicators/ why do we have indicators?</summary>
<br>
  
Indicators are needed to measure trends over time, for reporting and then directing action or decision-making. For genetic diversity, there are several metrics that measure genetic diversity within and between populations that we need to follow to see if we maintain genetic diversity or not. You can read more about the genetic indicators “Proportion of populations with Ne > 500” and “Populations maintained” [here](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/).
</details>

<details closed>
<summary>What is a population/ how are populations genetically defined?</summary>
<br>
  
A population is a group of organisms of a species that can interact with and mate with each other and which are separated in some way from other groups. This is important for genetic diversity because populations can evolve adaptations to their local environment over time. For more information on defining populations, please see this guidance material [here](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/3_Howto_guides_examples/Howto_define_populations.html).
</details>

<details closed>
<summary>When do countries need to report on indicators under the CBD GBF?</summary>
<br>
  
The deadline for submitting the seventh national report is 28 February 2026, and the eighth national report is 30 June 2029 (see CBD website [here](https://www.cbd.int/reports)).
</details>

<details closed>
<summary>How many species do countries need to report on?</summary>
<br>

There is not a mandatory minimum, but scientists recommend reporting indicators for at least 100 species for the seventh national report, and more over time as capacity increases.
</details>

<details closed>
<summary>What species do countries need to report on?</summary>
<br>
  
All types of species (birds, mammals, plants, etc.), ideally in all types of environments. For more information on this, check [here](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/4_Species_list/Species_list.html).
</details>

<details closed>
<summary>Which indicators for genetic diversity exist?</summary>
<br>
  
Two established indicators for genetic diversity under the CBD framework are the focus of the Genes from Space tool. These are the “Proportion of populations within species with an Ne > 500,” which is especially important (a headline indicator), and “Proportion of populations maintained within species.” They can be measured with DNA data but also with proxies in case DNA data is not available. A proxy for Ne is Nc, or in the case of this tool, habitat area combined with density estimates.

There are also indicators that can be measured with DNA-based techniques. DNA-based indicators are based on Essential Biodiversity Variables for genetic diversity ([EBVs](https://onlinelibrary.wiley.com/doi/10.1111/brv.12852)), such as genetic diversity, inbreeding levels, effective size, and genetic differentiation. Examples of such work include [fish](https://onlinelibrary.wiley.com/doi/full/10.1111/mec.16710) and [moose](https://www.nature.com/articles/s42003-023-05385-x).
</details>

<details closed>
<summary>What is Ne?</summary>
<br>
  
Ne is an abbreviation for the genetically effective population size. It is a standard metric in population genetics that quantifies the size of a demographically ideal population with the same rate of genetic diversity loss as the real population. It is important because it relates to the adaptive capacity and long-term viability of a population. It can be estimated with DNA-based methods or from demographic data (birth- and death rates, reproductive rates, etc). An Ne > 500 is recommended as a minimum limit for a population to maintain adaptive capacity. Ne is useful because it is a metric we can apply to all species. You can learn more about what are Ne and Nc and how they are estimated from different data sources [here](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/3_Howto_guides_examples/Populations_sizes.html).
</details>

<details closed>
<summary>What is Nc?</summary>
<br>
  
Nc is the census size, or the number of sexually mature individuals in a population.
</details>

<details closed>
<summary>Where can I read more about genetic diversity indicators?</summary>
<br>
  
Two major resources for learning more about the genetic indicators are:

- Background: *[Too simple, too complex, or just right? Advantages, challenges, and guidance for indicators of genetic diversity](https://academic.oup.com/bioscience/article/74/4/269/7625302)*
- Actually calculating genetic indicators using existing data on species: *[Guideline materials and documentation for the Genetic Diversity Indicators of the monitoring framework for the Kunming-Montreal Global Biodiversity Framework](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/)* 
  
</details>

---

### About the tool

<details closed>
<summary>Where can I find the tool? Is there a manual for users?</summary>
<br>
  
The tool can be found here: [https://www.gfstool.com/]. This is a version for testing: Please note the disclaimers and other information on the tool website.  
There is no manual yet, but an introduction is provided [here](https://teams.issibern.ch/genesfromspace/monitoring-tool-pilot/), and the tool website will walk you step-by-step through the use of the tool and the assumptions the current version is based on.

</details>

<details closed>
<summary>Is it free to use? Can I use this now for other purposes? Is it copyrighted?</summary>
<br>
The tool is under development and its use for commercial purposes is prohibited. Participation in the workshop also means that you agree to not use the tool for your own scientific purposes until the results from the Genes from Space workshop are published (at least as a preprint). Please keep in mind that workshop participants are also invited to contribute as co-authors to this initial publication.

</details>

<details closed>
<summary>Can I use the tool for calculating indicators for reporting to the CBD?</summary>
<br>
No, not yet, because it is still under development. The tool has not been sufficiently tested or validated. However, we are in the process of improving this tool and getting it ready for future practical use, including for the CBD.

</details>

<details closed>
<summary>Where can I get help to use the tool if running into problems?</summary>
<br>
  
Contact information for the ISSI Genes from Space team can be found [here](https://teams.issibern.ch/genesfromspace/team-member/).

</details>

<details closed>
<summary>Can the tool be used for all species? Which species should the tool NOT be used for?</summary>
<br>
The tool will run for any species, but it might not be appropriate for all species. We have not yet defined which species the tool will work best for, but we are aware of the following limitations given the current implementation:  
- Species with inaccurate entries in GBIF will not be accurately represented in this tool if you rely on GBIF entries. This does not apply if you provide your own coordinates.  
- We do not currently implement definitions for aquatic habitats and are working on implementing this. However currently, the tool is limited to use for terrestrial species.  
- Accuracy of the results currently depend on realistic estimates of population density to retrieve an Nc accurate to at least the correct order of magnitude.

</details>

<details closed>
<summary>Has the tool been validated for genetic diversity measured with DNA methods?</summary>
<br>
Not yet, but we plan to do so in near future.

</details>

<details closed>
<summary>How do I refer to the tool if I use it?</summary>
<br>
  
Please wait until we have provided the initial publication of the tool, at least in preprint form [here](https://ecoevorxiv.org/repository/view/7274/). At that time the tool will be opened for use given that the terms of use and limitations are respected, and the (preprinted) publication should then be cited.

</details>

<details closed>
<summary>How do I pick the density and population buffer sizes?</summary>
<br>
The density should be an estimate of the number of sexually mature (capable of reproducing) individuals (Nc, census size) per square kilometer, in normal habitat.  
The population buffer size should be determined based on knowledge of the typical dispersal distance of the species. For species with larger dispersal distances, including the exchange of gametes (e.g. pollen, sperm), the buffer should be larger. The best reference will be literature documenting the mating and dispersal behavior of the species or, if available, documenting genetic differentiation for a set of representative study populations.

</details>

---

### Technical questions about running the tool

<details closed>
<summary>GBIF does not recognize my species name</summary>
<br>
  
- If you provide your own data, this does not matter, only if you need GBIF data.  
- Check the use of capital letters (usually Genus species).  
- Check spelling.

</details>

<details closed>
<summary>I can not import my .csv coordinate file.</summary>
<br>
  
The monitoring tool requires a .tsv file (tab separated).  
Quick fix: Export a .txt file and change the ending to .tsv.

</details>

<details closed>
<summary>My excel uses commas to export and not periods.</summary>
<br>
  
This happens if your Excel is set to use commas for the decimal separator.  
Either change the above settings or save as a .txt file, search and replace commas with periods.

</details>

<details closed>
<summary>How do I draw the bounding box?</summary>
<br>
  
Click on the square on the left and then drag to select the region of interest on the map.

</details>

<details closed>
<summary>My buffer/observation distance values are rather small and in [m] not [km].</summary>
<br>
  
If your observation distance is smaller than 1 km, please enter 1 km into the tool. Buffers smaller than 1 km are a functionality that we will consider adding in the future.

</details>

<details closed>
<summary>Should I use Landcover or Forest cover?</summary>
<br>
  
- Landcover gives you more options and a longer timeline: 23 classes, 300m, 1992-2021, select relevant class.  
- Forest cover provides better resolution, but only for species dependent on forest ecosystems: forests, 20m, 2000-2023.  
Forest cover is much slower: Use a smaller polygon (max. 40’000 km2, size of Switzerland).

</details>

<details closed>
<summary>I get the Error: 
<code>Script "data > GBIF Observations < 100 000": ℹ In argument: `dplyr::all_of(c(lon, lat))`.
Caused by error in `dplyr::all_of()`:
! Can't subset elements that don't exist.
✖ Elements `decimal_longitude` and `decimal_latitude` don't exist.</code>
  
What do I do?</summary>
<br>
No GBIF data found for you selected region/country. Select a larger/different polygon, earlier baseline year or a different species of interest.

</details>

---

### About the Project

<details closed>
<summary>Where can I find more information about the project and its background?</summary>
<br>
  
You can read about the project ISSI Genes from Space [here](https://teams.issibern.ch/genesfromspace/).
</details>

<details closed>
<summary>Can I join the project or contribute in some way?</summary>
<br>
  
Please contact the team leaders, whose webpages are linked [here](https://teams.issibern.ch/genesfromspace/team-member/).

</details>

<details closed>
<summary>What is the next step of the project?</summary>
<br>
  
- Making technical improvements to the tool.  
- Publishing a first demonstration of the tool.  
- Validating the tool outputs in comparison to DNA-based indicator calculations to make it useful for research, reporting, and conservation.  
- Adding capacities to the tool to include population boundaries based on genetic data and make use of more nuanced habitat and phenotype information available from Earth observation.

</details>

<details closed>
<summary>What are you going to do with the results that we collect?</summary>
<br>
  
Use these for the first demonstration publication, to which you are invited to contribute as a co-author.

</details>

<details closed>
<summary>Are there publications from the project?</summary>
<br>
  
There is a publication about the concept and workflows [here](https://doi.org/10.32942/X2RS58).

</details>
</details>
<details closed>
<summary> <b>Español</b> </summary>

  ### Acerca de la diversidad genética (p. ej., para personas no genetistas)

<details closed>

<summary>¿Qué es la diversidad genética?</summary>

<br>

La diversidad genética es la variación a nivel del ADN, la secuencia del ADN, que, junto con el entorno en el que vive un organismo, determina su fenotipo individual (apariencia, rasgos, etc.) y su supervivencia. Hay variación dentro de las poblaciones y entre ellas. Una mayor diversidad genética puede aumentar las posibilidades de supervivencia de una población o especie en un entorno cambiante.

</details>

<details closed>

<summary>¿Cómo se estudia la diversidad genética?</summary>

<br>

Durante más de 40 años, las y los científicos han utilizado técnicas de genética molecular que pueden evaluar la variación a nivel del ADN. Existen muchas técnicas que estudian ya sea todo el genoma (todo el ADN de un individuo) o partes seleccionadas de este. Se necesita recolectar tejido de muchas individuos en toda la región de estudio para obtener un buen conocimiento de dónde se encuentran poblaciones genéticamente distintas y cuánta variación ocurre dentro de las poblaciones, así como entre ellas. El ADN se extrae del tejido y luego se analiza para cuantificar la variación genética. Estos procedimientos de laboratorio molecular no están disponibles para todas las especies, ya que aún pueden ser costosos y requieren acceso a los tejidos de los organismos, para muchos organismos dentro de una especie.

</details>

<details closed>

<summary>¿Cómo se puede estudiar la diversidad genética desde el espacio?</summary>

<br>

No podemos evaluar la variación del ADN desde el espacio, pero es posible medir algunos de los procesos que influyen en el mantenimiento de la diversidad genética y, en algunos casos, observar partes del fenotipo. Las poblaciones muy pequeñas perderán diversidad genética más rápido. Además, la pérdida de poblaciones conlleva la pérdida de diversidad genética. Desde el espacio, podemos estimar el tamaño de determinados hábitats y, con información sobre la densidad de individuos de las especies en esos hábitats, se puede estimar de manera aproximada el tamaño de las poblaciones. También se puede medir la pérdida de poblaciones como la pérdida de hábitat (por ejemplo, la conversión de hábitat a no hábitat). Por último, en el caso de algunos organismos como árboles grandes y dominantes, podemos observar directamente algunos de sus rasgos y cuán variables son. (La información de rasgos o fenotipo aún no se utiliza en la herramienta “Genes from Space”, pero planeamos usarla en el futuro). Para obtener más información, consulta nuestro preprint [aquí](https://ecoevorxiv.org/repository/view/7274/).

</details>

<details closed>

<summary>¿Cuál es el objetivo de los indicadores/por qué tenemos indicadores?</summary>

<br>

Los indicadores son necesarios para medir tendencias a lo largo del tiempo, para informar y posteriormente orientar la acción o la toma de decisiones. Para la diversidad genética, hay varias métricas que miden la diversidad genética dentro y entre poblaciones que debemos seguir para ver si mantenemos la diversidad genética o no. Puedes leer más sobre los indicadores genéticos “Proporción de poblaciones con Ne > 500” y “Poblaciones mantenidas” [aquí](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/).

</details>

<details closed>

<summary>¿Qué es una población? ¿Cómo se definen genéticamente las poblaciones?</summary>

<br>

Una población es un grupo de organismos de una especie que pueden interactuar y aparearse entre sí y que están separados de alguna manera de otros grupos. Esto es importante para la diversidad genética porque las poblaciones pueden desarrollar adaptaciones a su entorno local con el tiempo. Para obtener más información sobre la definición de poblaciones, consulta este material de referencia [aquí](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/3_Howto_guides_examples/Howto_define_populations.html).

</details>

<details closed>

<summary>¿Cuándo necesitan los países informar sobre los indicadores bajo el CBD GBF?</summary>

<br>

La fecha límite para presentar el séptimo informe nacional es el 28 de febrero de 2026, y para el octavo informe nacional es el 30 de junio de 2029 (consulta el sitio web del CDB [aquí](https://www.cbd.int/reports)).

</details>

<details closed>

<summary>¿Cuántas especies necesitan informar los países?</summary>

<br>

No existe un mínimo obligatorio, pero la comunidad científica recomienda informar indicadores para al menos 100 especies para el séptimo informe nacional, y aumentar este número con el tiempo a medida que aumente la capacidad.

</details>

<details closed>

<summary>¿Sobre qué especies necesitan informar los países?</summary>

<br>

Todo tipo de especies (aves, mamíferos, plantas, etc.), idealmente en todo tipo de entornos. Para más información al respecto, consulta [aquí](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/4_Species_list/Species_list.html).

</details>

<details closed>

<summary>¿Qué indicadores de diversidad genética existen?</summary>

<br>

Bajo el marco del CDB, dos indicadores establecidos para la diversidad genética son el foco de la herramienta Genes from Space. Estos son la “Proporción de poblaciones dentro de las especies con un Ne > 500”, que es especialmente importante (un indicador principal), y la “Proporción de poblaciones mantenidas dentro de las especies”. Pueden medirse con datos de ADN, pero también con proxies en caso de que no se disponga de datos de ADN. Un proxy para Ne es Nc, o en el caso de esta herramienta, el área de hábitat combinada con estimaciones de densidad.

También existen indicadores que pueden medirse con técnicas basadas en ADN. Los indicadores basados en ADN se fundamentan en las Variables Esenciales de Biodiversidad para la diversidad genética ([EBVs](https://onlinelibrary.wiley.com/doi/10.1111/brv.12852)), como la diversidad genética, los niveles de endogamia, el tamaño efectivo y la diferenciación genética. Ejemplos de este tipo de trabajo incluyen [peces](https://onlinelibrary.wiley.com/doi/full/10.1111/mec.16710) y [alces](https://www.nature.com/articles/s42003-023-05385-x).

</details>

<details closed>

<summary>¿Qué es Ne?</summary>

<br>

Ne es la abreviatura de tamaño efectivo de población genéticamente. Es una métrica estándar en genética de poblaciones que cuantifica el tamaño de una población demográficamente ideal con la misma tasa de pérdida de diversidad genética que la población real. Es importante porque se relaciona con la capacidad de adaptación y la viabilidad a largo plazo de una población. Puede estimarse con métodos basados en ADN o a partir de datos demográficos (tasas de nacimiento y muerte, tasas de reproducción, etc.). Se recomienda un Ne > 500 como límite mínimo para que una población mantenga su capacidad de adaptación. Ne es útil porque es una métrica que podemos aplicar a todas las especies. Puedes obtener más información sobre qué son Ne y Nc y cómo se estiman a partir de distintas fuentes de datos [aquí](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/docs/3_Howto_guides_examples/Populations_sizes.html).

</details>

<details closed>

<summary>¿Qué es Nc?</summary>

<br>

Nc es el tamaño de censo, o el número de individuos sexualmente maduros en una población.

</details>

<details closed>

<summary>¿Dónde puedo leer más sobre los indicadores de diversidad genética?</summary>

<br>

Dos recursos principales para aprender más sobre los indicadores genéticos son:

- Antecedentes: *[Too simple, too complex, or just right? Advantages, challenges, and guidance for indicators of genetic diversity](https://academic.oup.com/bioscience/article/74/4/269/7625302)*

- Cálculo real de indicadores genéticos utilizando datos existentes sobre especies: *[Guideline materials and documentation for the Genetic Diversity Indicators of the monitoring framework for the Kunming-Montreal Global Biodiversity Framework](https://ccgenetics.github.io/guidelines-genetic-diversity-indicators/)*

</details>

---

### Acerca de la herramienta

<details closed>

<summary>¿Dónde puedo encontrar la herramienta? ¿Existe un manual para usuarios?</summary>

<br>

La herramienta se encuentra aquí: [https://www.gfstool.com/]. Esta es una versión de prueba: Ten en cuenta los descargos de responsabilidad y otra información en el sitio web de la herramienta.

Todavía no existe un manual, pero se ofrece una introducción [aquí](https://teams.issibern.ch/genesfromspace/monitoring-tool-pilot/), y el sitio web de la herramienta te guiará paso a paso en el uso de la misma y en los supuestos en los que se basa la versión actual.

</details>

<details closed>

<summary>¿Es gratuita? ¿Puedo usarla ahora para otros propósitos? ¿Tiene derechos de autor?</summary>

<br>

La herramienta está en desarrollo y su uso con fines comerciales está prohibido. Participar en el taller también implica que aceptas no utilizar la herramienta con fines científicos propios hasta que se publiquen los resultados del taller de Genes from Space (al menos como preprint). Ten en cuenta que las y los participantes del taller también están invitados a contribuir como coautores en esta publicación inicial.

</details>

<details closed>

<summary>¿Puedo usar la herramienta para calcular indicadores para informar al CDB?</summary>

<br>

No, todavía no, porque sigue en desarrollo. La herramienta no se ha probado ni validado lo suficiente. Sin embargo, estamos en proceso de mejorarla y prepararla para un uso práctico futuro, incluido el CDB.

</details>

<details closed>

<summary>¿Dónde puedo obtener ayuda para usar la herramienta si tengo problemas?</summary>

<br>

La información de contacto del equipo ISSI Genes from Space se encuentra [aquí](https://teams.issibern.ch/genesfromspace/team-member/).

</details>

<details closed>

<summary>¿Puede utilizarse la herramienta para todas las especies? ¿Para qué especies NO debería usarse la herramienta?</summary>

<br>

La herramienta funcionará para cualquier especie, pero podría no ser apropiada para todas. Aún no hemos definido para qué especies funcionará mejor la herramienta, pero somos conscientes de las siguientes limitaciones dada la implementación actual:

- Las especies con datos inexactos en GBIF no se representarán con precisión en esta herramienta si dependes de las entradas de GBIF. Esto no aplica si proporcionas tus propias coordenadas.

- Actualmente no implementamos definiciones para hábitats acuáticos y estamos trabajando en ello. Sin embargo, por ahora la herramienta está limitada a su uso en especies terrestres.

- La precisión de los resultados depende en la actualidad de estimaciones realistas de densidad poblacional para obtener un Nc preciso, al menos en el orden de magnitud correcto.

</details>

<details closed>

<summary>¿Se ha validado la herramienta para la diversidad genética medida con métodos de ADN?</summary>

<br>

Todavía no, pero planeamos hacerlo en un futuro cercano.

</details>

<details closed>

<summary>¿Cómo hago referencia a la herramienta si la utilizo?</summary>

<br>

Por favor, espera hasta que proporcionemos la publicación inicial de la herramienta, al menos en forma de preprint [aquí](https://ecoevorxiv.org/repository/view/7274/). En ese momento la herramienta se abrirá para su uso, siempre que se respeten los términos de uso y limitaciones, y se cite la publicación (preprint).

</details>

<details closed>

<summary>¿Cómo elijo la densidad y los tamaños de buffer de población?</summary>

<br>

La densidad debe ser una estimación del número de individuos sexualmente maduros (capaces de reproducirse) (Nc, tamaño de censo) por kilómetro cuadrado, en hábitat normal.

El tamaño del buffer de población debe determinarse con base en el conocimiento de la distancia típica de dispersión de la especie. Para especies con distancias de dispersión más grandes, incluida la dispersión de gametos (p. ej., polen, esperma), el buffer debe ser mayor. La mejor referencia será la literatura que documente el comportamiento de apareamiento y dispersión de la especie o, si está disponible, que documente la diferenciación genética en un conjunto de poblaciones de estudio representativas.

</details>

---

### Preguntas técnicas sobre la ejecución de la herramienta

<details closed>

<summary>GBIF no reconoce el nombre de mi especie</summary>

<br>

- Si proporcionas tus propios datos, esto no importa, solo si necesitas datos de GBIF.  
- Revisa el uso de mayúsculas (normalmente Género especie).  
- Revisa la ortografía.

</details>

<details closed>

<summary>No puedo importar mi archivo .csv de coordenadas.</summary>

<br>

La herramienta de monitoreo requiere un archivo .tsv (separado por tabulaciones).

Solución rápida: Exporta un archivo .txt y cambia la extensión a .tsv.

</details>

<details closed>

<summary>Mi Excel usa comas en lugar de puntos.</summary>

<br>

Esto sucede si tu Excel está configurado para usar comas como separador decimal.

Puedes cambiar la configuración anterior o guardar como un archivo .txt y buscar y reemplazar las comas por puntos.

</details>

<details closed>

<summary>¿Cómo dibujo el cuadro delimitador?</summary>

<br>

Haz clic en el cuadrado a la izquierda y luego arrastra para seleccionar la región de interés en el mapa.

</details>

<details closed>

<summary>Mis valores de buffer/distancia de observación son bastante pequeños y están en [m] en lugar de [km].</summary>

<br>

Si tu distancia de observación es menor a 1 km, ingresa 1 km en la herramienta. El uso de buffers menores a 1 km es una funcionalidad que consideraremos agregar en el futuro.

</details>

<details closed>

<summary>¿Debo usar Landcover o Forest cover?</summary>

<br>

- Landcover te da más opciones y una línea de tiempo más larga: 23 clases, 300 m, 1992-2021, selecciona la clase relevante.

- Forest cover proporciona mejor resolución, pero solo para especies que dependen de ecosistemas forestales: bosques, 20 m, 2000-2023.

Forest cover es mucho más lento: Usa un polígono más pequeño (máx. 40,000 km², tamaño de Suiza).

</details>

<details closed>

<summary>Me aparece el Error:
<code>Script "data > GBIF Observations < 100 000": ℹ In argument: `dplyr::all_of(c(lon, lat))`.
Caused by error in `dplyr::all_of()`:
! Can't subset elements that don't exist.
✖ Elements `decimal_longitude` and `decimal_latitude` don't exist.</code>

¿Qué hago?</summary>

<br>

No se encontraron datos de GBIF para la región/país que seleccionaste. Selecciona un polígono más grande/diferente, un año base anterior o una especie de interés distinta.

</details>

---

### Acerca del proyecto

<details closed>

<summary>¿Dónde puedo encontrar más información sobre el proyecto y sus antecedentes?</summary>

<br>

Puedes leer sobre el proyecto ISSI Genes from Space [aquí](https://teams.issibern.ch/genesfromspace/).

</details>

<details closed>

<summary>¿Puedo unirme al proyecto o contribuir de alguna manera?</summary>

<br>

Por favor, contacta a las y los líderes del equipo, cuyas páginas web están vinculadas [aquí](https://teams.issibern.ch/genesfromspace/team-member/).

</details>

<details closed>

<summary>¿Cuál es el siguiente paso del proyecto?</summary>

<br>

- Realizar mejoras técnicas a la herramienta.  
- Publicar una primera demostración de la herramienta.  
- Validar los resultados de la herramienta en comparación con cálculos de indicadores basados en ADN para hacerla útil en investigación, informes y conservación.  
- Agregar capacidades a la herramienta para incluir límites de población basados en datos genéticos y utilizar información más detallada de hábitat y fenotipo disponible a partir de observación de la Tierra.

</details>

<details closed>

<summary>¿Qué harán con los resultados que recolectemos?</summary>

<br>

Utilizarlos para la primera publicación de demostración, a la cual se invita a contribuir como coautor o coautora.

</details>

<details closed>

<summary>¿Existen publicaciones del proyecto?</summary>

<br>

Hay una publicación sobre el concepto y los flujos de trabajo [aquí](https://doi.org/10.32942/X2RS58).

</details>

</details>

## Technical Instructions for developers
<details closed>
<summary><b></b></summary>

# Genes from Space Interface v2

## Overview
The Genes from Space Interface v2 is a tool designed to . It provides an intuitive interface for for Users to interact with the Data analysis Pipeline that we created on Bon in a Box. It also visualizes the data created by this datapipeline intuitivly and interactively

## Content
- **Hello.py**: This is the main streamlit script that is used to run the Interface and serves as the "Homepage" for the Tool. It contains some Page configuration settings, it sets up the subpages Input_form and Output_display and contains some general information about the Tool and approach.
- **/pages/Input_form.py**: This file is the main Input form. It is linked to and called by the "Homepage" Hello.py. The contents of this script generates all the relevant User inputs and executes the Bon in a Box scripts. It saves all relevant data in the session_state and finally redirects the User to the Output_display.py when all the Information is provided.
- **/pages/Output_display.py**: This file uses the Output data created in Input_form.py to create interactive maps and plots to visualize the data. It also allows you to download created runs or upload previos runs as GeoJSON files.
- **/temp_tiles**: This folder is used to save Images created in the Output_display.py and are used in the Map display. This folder is temporary since these images should be stored in a temporary storage, rather than a folder on the server
- **countries.txt**: This file contains a list of country names that is used in the Input_form.py as a preselection of Countries compatible with rnaturalearth
- **functions.py**: This file contains all custom functions used ind Input_form.py or Output_display.py. This includes f.e API call functions from Bon in a Box or interactive Map functions
- **points_example.csv**: This is a example csv file with correct formatting for the function to upload custom point observations
- **polygon_example.geojson**: This is an example GeoJSON file to demonstrate the required formatting for polygon data that can be uploaded in the Input_form.py file.
- **text.csv**: This file contains all the Text displayed in Input_form.py and Output_display.py. It also contains the translations into other languages, which makes language selection possible
- **/images**: This folder contains all the images displayed in the diffrent Interface pages.
## Additional Files
- **conda_environment.yml**: This file contains the specifications for the conda environment used to run the Streamlit application. It ensures that all necessary dependencies and packages are installed for the tool to function correctly.
- **directories.txt**: This file lists the directory structure of the project, providing an overview of the organization of files and folders within the repository.

## Installation
1. Clone the repository:
    ```bash
    git clone https://github.com/simonrabenmeister/Genes_from_Space_interface
    ```
2. Navigate to the project directory:
    ```bash
    cd Genes_from_Space_interface/Interface_v2
    ```
3. Set up the conda environment:
    Navigate to the directory containing the YAML file in your terminal or command prompt. Then, use the following command to create the environment:
    ```bash
    conda env create -f conda_environment.yml
    ```
    Once the environment is created, you can activate the environment using the following command:
    ```bash
    conda activate genes_from_space
    ```
    For more information on creating or setting up a conda environment: https://docs.conda.io/projects/conda/en/stable/user-guide/getting-started.html
4. Start the application:
    Once you set up the conda environment, you can navigate into the Genes_from_Space_interface directory in your terminal run the streamlit app within the environment with the following command
    ```bash
    streamlit run Hello.py
    ```
# Bon in a Box Pipelines in bon-in-a-box-pipelines/pipelines/GenesFromSpace
## /Tool
- This Folder contains all Pipelines which execute the complete Genes from Space Workflow. The title of each Pipeline describes the Landcover used, source of Point observations (GBIF or userdata) and method of area selection. These are used by the Interface_V1 and thus all the runs conducted during the Genes from Space Workshop(Feb 2025).
Example: Forest_cover_v_GBIF_bbox.json
- For the _obs.json Pipeline there is a obs_server.json version which requires the observation data Input to be a string with the format: [('ID', 'Value'), (1, 'a'), (2, 'b'), (3, 'c')], transforms it into a tsv for further use. This version is used by the Interface on the server, since users cant upload data to the user folder.
The normal _obs.json version the observation data input is a directory to a file in the user data folder. This script should be used if Users run Biab on their own machine and can upload files into the userdata folder.
## /ToolComponents
- This Folder contains sub pipelines which are used within the main /Tool Pipelines.
## /ToolComponents/Interface
-This Folder contains Pipelines which are used by the Interface_V2
-The Pipelines are mostly single scripts contained in a Pipeline framework, since (to the knowlege of the developers) API calls are only possible with pipelines. So for the Tool to be able to run specific parts of the bigger Genes from Space Workflow, each step has to be a pipeline.

## Contact
For questions or support, please contact [info@genesfromspace.com](mailto:genesfromspace).
